DEBUG=yes
CC=gcc
ifeq ($(DEBUG), yes)
	CFLAGS += -g -std=c99 -lssl -lcrypto
else
	CFLAGS += -std=c99 -lssl -lcrypto
endif
SRC= $(wildcard *.c)
OBJ= $(SRC:.c=.o)
EXEC=pictDBM

all: $(EXEC)

pictDBM: pictDBM.o db_list.o db_utils.o error.o db_create.o db_delete.o
	$(CC) -o $@ $^ $(CFLAGS)	

%.o: %.c error.h
	$(CC) -o $@ -c $^ $(CFLAGS)
 
.PHONY: clean mrproper stylish

clean:
	rm -rf *.o

mrproper : clean
	rm -rf $(EXEC)
	rm *~
	cp ../../provided/week04/testDB01.pictdb_static .
	cp ../../provided/week04/testDB02.pictdb_static .

stylish:
	./stylish.sh

	
